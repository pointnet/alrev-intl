name: alrev-intl-abstractions

on:
  push:
    tags: [ '*Alrev.Intl.Abstractions*' ]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Tag name
        id: tag-name
        run: echo ::set-output name=VERSION::${GITHUB_REF#refs/tags/}
      - name: Setting payload
        id: get-payload
        uses: actions/github-script@0.9.0
        with:
          script: |
            const matches = context.payload.ref.match(/([^/\d]+)\.(\d.+)/)
            core.setOutput('package', matches[1])
            core.setOutput('version', matches[2])
      - run: echo "${{steps.get-payload.outputs.package}} - ${{steps.get-payload.outputs.version}}"